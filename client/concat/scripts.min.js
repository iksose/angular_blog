angular.module("uiRouterSample",["ui.router","ngAnimate","ngResource","ui.bootstrap","chieffancypants.loadingBar","textAngular"]).run(["$rootScope","$state","$stateParams",function(o,t,e){o.$state=t,o.$stateParams=e}]),alert("Am I gulping?"),angular.module("uiRouterSample").config(["$stateProvider","$urlRouterProvider",function(o,t){t.when("/c?id","/contacts/:id").when("/user/:id","/contacts/:id").otherwise("/"),o.state("home",{url:"/",template:'<p class="lead">Welcome to the UI-Router Demo</p><p>Use the menu above to navigate. Pay attention to the <code>$state</code> and <code>$stateParams</code> values below.</p><p>Click these links—<a href="#/c?id=1">Alice</a> or <a href="#/user/42">Bob</a>—to see a url redirect in action.</p>',controller:["$scope","$state","$http","utils",function(){console.log("Welcome home")}]}).state("contacts",{url:"/contacts",templateUrl:"views/contacts.html",resolve:{contacts:["contacts",function(o){return o.all()}]},controller:["$scope","$state","contacts","utils",function(o,t,e,n){o.contacts=e,o.goToRandom=function(){var e=n.newRandomKey(o.contacts,"id",t.params.contactId);t.go("contacts.detail",{contactId:e})}}]}).state("contacts.list",{url:"",templateUrl:"views/contacts.list.html"}).state("contacts.detail",{url:"/{contactId:[0-9]{1,4}}",views:{"":{templateUrl:"views/contacts.detail.html",controller:["$scope","$stateParams","utils",function(o,t,e){o.contact=e.findById(o.contacts,t.contactId)}]},"hint@":{template:'This is contacts.detail populating the "hint" ui-view'},menuTip:{templateProvider:["$stateParams",function(o){return'<hr><small class="muted">Contact ID: '+o.contactId+"</small>"}]}}}).state("contacts.detail.item",{url:"/item/:itemId",views:{"":{templateUrl:"views/contacts.detail.item.html",controller:["$scope","$stateParams","$state","utils",function(o,t,e,n){o.item=n.findById(o.contact.items,t.itemId),o.edit=function(){e.go(".edit",t)}}]},"hint@":{template:' This is contacts.detail.item overriding the "hint" ui-view'}}}).state("views/contacts.detail.item.edit",{views:{"@contacts.detail":{templateUrl:"contacts.detail.item.edit.html",controller:["$scope","$stateParams","$state","utils",function(o,t,e,n){o.item=n.findById(o.contact.items,t.itemId),o.done=function(){e.go("^",t)}}]}}}).state("about",{url:"/about",templateProvider:["$timeout",function(o){return o(function(){return'<p class="lead">UI-Router Resources</p><ul><li><a href="https://github.com/angular-ui/ui-router/tree/master/sample">Source for this Sample</a></li><li><a href="https://github.com/angular-ui/ui-router">Github Main Page</a></li><li><a href="https://github.com/angular-ui/ui-router#quick-start">Quick Start</a></li><li><a href="https://github.com/angular-ui/ui-router/wiki">In-Depth Guide</a></li><li><a href="https://github.com/angular-ui/ui-router/wiki/Quick-Reference">API Reference</a></li></ul>'},100)}]}).state("database",{url:"/database",templateUrl:"views/database.html",controller:"dbController"}).state("blog",{url:"/blog",templateUrl:"views/blog.html",controller:"blogController"}).state("bloglist",{url:"/bloglist",templateUrl:"views/bloglist.html",controller:"blogController"}).state("post",{url:"/post/:title",templateUrl:"views/bloglist.post.html",controller:"blogController_individual"}).state("newPost",{url:"/newPost",templateUrl:"views/newpost.html",controller:"blogController_newPost"})}]),angular.module("uiRouterSample").controller("alertController",function(o,t){o.alerts=function(){return t.getErrors()},o.addAlert=function(){o.alerts.push({msg:"Another alert!"})},o.closeAlert=function(){t.popLast()}}),angular.module("uiRouterSample").controller("blogController",function(o,t,e){console.log("Hello from blog Controller"),o.note={id:0,title:"Title goes here",body:'<b>Press Back and Forward to simulate loading a new note</b><div><b><br/></b></div><div><img src="http://puppydogweb.com/gallery/puppies/labradorretriever2.jpg"/><b><br/></b></div>'};var n=function(t){console.log("Handling....",t[0]),o.note=t[0]};e.getMovies(n),o.funUpdate=function(o){console.log("Well okay I guess...",o),e.updatePost(o)},o.postsList=[];var l=function(t){console.log("Handling....",t),o.postsList=t};e.getAllPosts(l),o.funUpdate2=function(o){console.log("Well okay I guess...",o),e.updatePost(o)},o.findArticle=function(o){console.log("You want me to look up...",o)}}).controller("blogController_individual",function(o,t,e,n){console.log("Individual...?",e);var l=e;o.postDetail;var r=function(t){o.postDetail=t};n.returnOne(l,r),o.funUpdate=function(o){console.log("Well okay I guess...",o),n.updatePost(o)}}).controller("blogController_newPost",function(o,t,e,n,l){var r=e.loggedIn;console.log("Time for a new post! Are you authorize!?",r),r||(l.addErr("danger","You're not authorized to do that"),t.go("home")),o.blogpost={}}).factory("blogFactory",function(o,t){console.log("Hello from blog Factory");return{saveMovie:function(e){o.post("secure/admin/movies",e).success(function(o){console.log("Success from factory ",o)}).error(function(o,e){console.log("Fail from factory ",o,e),t.addErr("danger",o)})},getMovies:function(t){o.get("/blogposts").success(function(o){console.log("Success from factory ",o),t(o)}).error(function(o,e){console.log("Fail from factory ",o,e),t(o,e)})},updatePost:function(t){console.log("Updating this : ",t),o.post("/blogposts",t).success(function(o){console.log("Success from factory ",o)}).error(function(o,t){console.log("Fail from factory ",o,t)})},getAllPosts:function(t){o.get("/blogposts").success(function(o){console.log("Success from factory ",o),t(o)}).error(function(o,t){console.log("Fail from factory ",o,t)})},returnOne:function(t,e){console.log("Factory",t),o.post("/posts",t).success(function(o){console.log("Success from factory ",o),e(o)}).error(function(o,t){console.log("Fail from factory ",o,t),e(o,t)})}}}),angular.module("uiRouterSample").controller("dbController",function(o,t,e){function n(t){console.log("Success"),o.movieList=t}console.log("Hello from dbController"),e.getMovies(n),o.movieList=[],o.movieModel={title:"",rating:"XXX"},o.AddMovie=function(){console.log("ADDING",o.movieModel),e.saveMovie(o.movieModel)}}).factory("movieFactory",function(o,t){console.log("Hello from movie Factory");return{saveMovie:function(e){o.post("secure/admin/movies",e).success(function(o){console.log("Success from factory ",o)}).error(function(o,e){console.log("Fail from factory ",o,e),t.addErr("danger",o)})},getMovies:function(t){o.get("secure/admin/movies").success(function(o){console.log("Success from factory ",o),t(o)}).error(function(o,e){console.log("Fail from factory ",o,e),t(o,e)})}}}),angular.module("uiRouterSample").directive("ngEnter",function(){return function(o,t,e){t.bind("keydown keypress",function(t){13===t.which&&(o.$apply(function(){o.$eval(e.ngEnter)}),t.preventDefault())})}}),angular.module("uiRouterSample").factory("contacts",["$http",function(o,t){var e="contacts.json",n=o.get(e).then(function(o){return o.data.contacts}),l={};return l.all=function(){return n},l.get=function(o){return n.then(function(){return t.findById(n,o)})},l}]).service("errors",function(){var o=[];return{getErrors:function(){return o},popLast:function(){o.pop()},addErr:function(t,e){o.pop(),o.push({type:t,msg:e})}}}).factory("utils",function(){return{findById:function(o,t){for(var e=0;e<o.length;e++)if(o[e].id==t)return o[e];return null},newRandomKey:function(o,t,e){var n;do n=o[Math.floor(o.length*Math.random())][t];while(n==e);return n}}}),angular.module("uiRouterSample").controller("loginController",function(o,t,e,n,l){console.log("Hello from login controller"),o.user,t.loggedIn=!1,n.get("/api/user/").success(function(e){o.user=e,console.log("Success grabbing user on refresh...",e),window.donuts=o.user,window.holes=o.loggedIn,""!==e&&(t.loggedIn=!0,console.log("Logged in!!!!",o.loggedIn))}),o.credentials={},o.login=function(){console.log("Logging in...",o.credentials);var e=function(e){console.log("Callback....",e),o.user=e,""!==e&&(t.loggedIn=!0,console.log("Logged in!!!",o.loggedIn));var n=document.getElementById("loginDropdown");angular.element(n).removeClass("open")},n=o.credentials;l.postLogin(n,e)},o.logoutUser=function(){console.log("So you want to log out...?");var o=function(){console.log("Success on logout"),t.loggedIn=!1};l.submitLogout(o)},o.failedLogin=function(){return l.returnLoginFailure()}}),angular.module("uiRouterSample").factory("loginFactory",function(o){console.log("Hello from login Factory");var t,e;return{postLogin:function(n,l){console.log("POST DUDE",n),o({method:"POST",url:"/dmz/login",params:n,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(o,n){console.log("SUCCESS!!!",o,n),t=o.user,l(o.user),e=""}).error(function(o,t){console.log("Failure...",o,t),e="Please try again"})},submitLogout:function(t){o.get("/dmz/logout").success(function(o){console.log("Success from factory ",o),t(o)})},getCurrUser:function(){return t},returnLoginFailure:function(){return e}}});